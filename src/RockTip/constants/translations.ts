/*
Copyright (c) [hrabia_kamien](https://github.com/git-kamien). All rights reserved.

The author hereby grants the recipient ("Licensee") a non-exclusive, non-transferable,
royalty-free license to use, modify, and incorporate this software into private and
commercial projects. The Licensee is permitted to make modifications solely for
adaptation, optimization, or enhancement, provided that such modifications do not
infringe upon the original author's rights.

This license applies exclusively to the entity that has lawfully obtained the source
code directly from the rightful author. Redistribution, sublicensing, or transfer
of this software, whether in its original or modified form, is strictly prohibited
without the explicit written consent of the author.

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

-----BEGIN PGP PUBLIC KEY BLOCK-----
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
=krDL
-----END PGP PUBLIC KEY BLOCK-----
*/

export namespace Translations {
    export const professions = {
        "b": "Tancerz ostrzy",
        "t": "Tropiciel",
        "w": "Wojownik",
        "p": "Paladyn",
        "h": "Łowca",
        "m": "Mag"
    };
    export const categories = {
        "consumable": "Konsumpcyjne",
        "halfHanded": "Półtoraręczne",
        "twoHanded": "Dwuręczne",
        "oneHanded": "Jednoręczne",
        "blessings": "Błogosławieństwa",
        "auxiliary": "Pomocnicze",
        "renewable": "Odnawialne",
        "distances": "Dystansowe",
        "necklaces": "Naszyjniki",
        "talismans": "Talizmany",
        "neutrals": "Neutralne",
        "upgrades": "Ulepszenia",
        "shields": "Tarcze",
        "helmets": "Hełmy",
        "gloves": "Rękawice",
        "armors": "Zbroje",
        "arrows": "Strzały",
        "quests": "Questowe",
        "rings": "Pierścienie",
        "boots": "Buty",
        "wands": "Różdżki",
        "golds": "Złoto",
        "books": "Książki",
        "orbs": "Orby magiczne",
        "keys": "Klucze",
        "bags": "Torby",
        "backpacks": "Torby", //todo - udandaryzowac, raczej uzyc bags
        "staffs": "Laski"
    };

    const attrPositive = (value: string | number) => `+${attrNumber(value)}`;
    const attrPercent = (value: string | number) => `${value}%`;
    const attrSigner = (value: string | number) => Math.sign(attrNumber(value)) === 1 ? attrPositive(value) : `${attrNumber(value)}`;
    const attrNumber = (value: string | number | boolean | object) => Number(value);
    const attrBox = (value: string | number) => `<span data-role="value">${value}</span>`;
    export const attributes = {
        /* Limits */
        "needProfessions": (professionList: (keyof typeof professions)[]) => {
            return `Wymagana profesja: ${professionList.map((professionLetter: keyof typeof professions) => professions[professionLetter]).join(", ")}`;
        },
        "needIntellect": (requirementData: string) => {
            return `Wymagany intelekt: ${attrNumber(requirementData)}`;
        },
        "needStrength": (requirementData: string) => {
            return `Wymagana siła: ${attrNumber(requirementData)}`;
        },
        "needAgility": (requirementData: string) => {
            return `Wymagana zręczność: ${attrNumber(requirementData)}`;
        },
        "needLevel": (requirementData: string) => {
            return `Wymagany poziom: ${attrNumber(requirementData)}`;
        },

        /* Bonuses */
        "criticalReductionDuringDefending": (percentData: string) => {
            return `Podczas obrony szansa na krytyk przeciwnika jest mniejsza o ${attrBox(attrPercent(percentData))}`;
        } ,
        "manaEnergyDestroyReduction": (pointsData: string) => {
            const manaPoints = Number(pointsData);
            const energyPoints = Math.max(1, Math.round(0.444 * manaPoints));

            return `Obniżanie niszczenia many o ${attrBox(attrNumber(manaPoints))} punktów oraz energii o ${attrBox(attrNumber(energyPoints))}`;
        },
        "magicalResistanceReduction": (percentData: string) => {
            return `Niszczenie odporności magicznych o ${attrBox(attrPercent(attrNumber(percentData)))} podczas ciosu`;
        },
        "enemyAttackSpeedReduction": (pointsData: string) => {
            return `Obniża szybkość ataku przeciwnika o ${attrBox(attrNumber(pointsData) / 100)}`;
        },
        "healthRestorationPercent": (percentData: string) => {
            return `Odnawia ${attrBox(attrPercent(attrNumber(percentData)))} punktów życia`;
        },
        "combatHealthRestoration": (pointsData: string) => {
            return `Przywraca ${attrBox(pointsData)} punktów życia podczas walki`;
        },
        "addEnchancementPoints": (percentData: string) => {
            return `Dodaje ${attrBox(attrPercent(percentData))} punktów wymaganych do ulepszenia przedmiotu`;
        },
        "combatHealthReduction": (pointsData: string) => {
            return `Obniża właścicielowi ${attrBox(pointsData)} punktów przywracania życia podczas walki`;
        },
        "chanceToBlockPuncture": (percentData: string) => {
            return `${attrBox(attrPercent(attrSigner(attrNumber(percentData))))} szans na zablokowanie przebicia`;
        },
        "fasterRevivalRecovery": (percentData: string) => {
            return `Przyśpiesza wracanie do siebie o ${attrBox(attrPercent(attrNumber(percentData)))}`;
        },
        "enemyEvasionReduction": (pointsData: string) => {
            return `Podczas ataku szansa na unik przeciwnika jest mniejsza o ${attrBox(attrNumber(pointsData))} punktów`;
        },
        "destroyArmorReduction": (pointsData: string) => {
            return `Obniżenie niszczenia pancerza o ${attrBox(attrNumber(pointsData))} punktów`;
        },
        "magicDamageAbsorption": (pointsData: string) => {
            return `Absorbuje do ${attrBox(attrNumber(pointsData))} obrażeń magicznych`;
        },
        "healChanceAfterFight": ([chanceData, pointsData]: string[]) => {
            return `${attrBox(attrPercent(attrNumber(chanceData)))} szans na wyleczenie ${attrBox(attrNumber(pointsData))} obrażeń po walce`;
        },
        "heal2TurnsReduction": (pointsData: string) => {
            return `Obniżenie leczenia turowego przeciwnika na 2 tury o ${attrBox(attrNumber(pointsData))}`;
        },
        "restoreHealthPoints": (pointsData: string) => {
            return `Leczy ${attrBox(attrNumber(pointsData))} punktów życia`;
        },
        "arrowPhysicalDamage": (damageData: string) => {
            return `Atak fizyczny ${attrBox(attrPositive(attrNumber(damageData)))}`;
        },
        "critPowerReduction": (percentData: string) => {
            return `Obniżenie mocy ciosu krytycznego przeciwnika o ${attrBox(attrPercent(attrNumber(percentData)))}`;
        },
        "enchancementPoints": (percentData: string) => {
            return `Dodaje ${attrBox(attrPositive(attrPercent(attrNumber(percentData))))} punktów wymaganych do ulepszenia przedmiotu`;
        },
        "enemyManaReduction": (pointsData: string) => {
            return `Podczas obrony redukuje mane przeciwnika o ${attrBox(attrNumber(attrSigner(pointsData)))} punkty`;
        },
        "physicalAbsorption": (pointsData: string) => {
            return `Absorbuje do ${attrBox(attrNumber(pointsData))} obrażeń fizycznych`;
        },
        "allBaseAttributes": (pointsData: string) => {
            return `Wszystkie cechy ${attrBox(attrPositive(attrNumber(pointsData)))}`;
        },
        "healthPerStrength": (pointsData: string) => {
            return `${attrBox(attrPositive(pointsData))} życia za 1 pkt siły`;
        },
        "physicalCritPower": (percentData: string) => {
            return `Moc ciosu krytycznego fizycznego ${attrBox(attrPercent(attrSigner(percentData)))}`;
        },
        "absorptionDestroy": (pointsData: string) => {
            return `Niszczenie ${attrBox(attrNumber(pointsData))} absorpcji przed atakiem`;
        },
        "maxQuantity": (maximumCount: string) => {
            return `Maksimum ${attrBox(attrNumber(maximumCount))} sztuk razem`;
        },
        "upgradedByPercent": (currentLevel: string) => {
            const greekLetters = {
                "1": "I",
                "2": "II",
                "3": "III",
                "4": "IV",
                "5": "V",
                "6": "VI"
            };
            return `stopień ulepszenia ${greekLetters[currentLevel]}`;
        },
        "poisonResistance": (percentData: string) => {
            return `Odporność na truciznę ${attrBox(attrPercent(attrSigner(percentData)))}`
        },
        "magicalCritPower": (percentData: string) => {
            return `Moc ciosu krytycznego magicznego ${attrBox(attrPercent(attrSigner(percentData)))}`;
        },
        "deepWoundChance": ([woundChance, woundDamage]: string[]) => {
            return `Głęboka rana, ${attrBox(attrPercent(woundChance))} szans na ${attrBox(attrPositive(woundDamage))} obrażeń`;
        },
        "chanceToCounter": (percentData: string) => {
            return `${attrPercent(attrBox(attrPositive(attrNumber(percentData))))} szans na kontratak po ciosie krytycznym`;
        },
        "lightResistance": (percentData: string) => {
            return `Odporność na błyskawice ${attrBox(attrPercent(attrSigner(percentData)))}`;
        },
        "frostResistance": (percentData: string) => {
            return `Odporność na zimno ${attrBox(attrPercent(attrSigner(percentData)))}`;
        },
        "fireResistance": (percentData: string) => {
            return `Odporność na ogień ${attrBox(attrPercent(attrSigner(percentData)))}`;
        },
        "physicalDamage": ([minimumDamage, maximumDamage]: string) => {
            return `Obrażenia fizyczne ${attrBox(minimumDamage)} - ${attrBox(maximumDamage)}`;
        },
        "shortenRevival": (minData: string) => {
            return `Skraca czas nieprzytomności o ${attrBox(attrSigner(minData))} min`;
        },
        "criticalChance": (percentData: string) => {
            return `Cios krytyczny ${attrBox(attrPercent(attrSigner(percentData)))}`;
        },
        "defenseDestroy": (pointsData: string) => {
            return `Niszczy ${attrBox(attrNumber(pointsData))} punkty pancerza podczas ciosu`;
        },
        "armorPuncture": (percentData: string) => {
            return `Przebicie pancerza ${attrBox(attrPercent(attrSigner(percentData)))}`;
        },
        "keyDescription": (mapName: string) => {
            return `Otwiera: ${mapName}`;
        },
        "energyDestroy": (pointsData: string) => {
            return `Podczas obrony niszczy ${attrBox(attrPositive(attrNumber(pointsData)))} energii przeciwnika`;
        },
        "healRemaining": (remainingData: string) => {
            return `Pełne leczenie, pozostało ${attrBox(attrNumber(remainingData))} punktów uleczania.`;
        },
        "poisonDamage": ([slowData, damageData]: number[]) => {
            return `Obrażenia od trucizny ${attrBox(attrPositive(attrNumber(damageData)))}<br>Spowalnia cel o ${attrBox((attrNumber(slowData) / 100).toFixed(2))} SA`;
        },
        "attackSpeed": (pointsData: string) => {
            // return `Szybkość ataku ${attrBox(attrPositive(attrNumber(+pointsData / 100).toFixed(2)))}`;
            return `Szybkość ataku ${attrBox(pointsData + "%")}`
        },
        "bagCapacity": (amountData: string) => {
            return `Mieści ${attrBox(amountData)} przedmioty`;
        },
        "description": (descriptionData: string) => {
            //todo - czasowy drut
            if(descriptionData == "null") {
                return '';
            }
            const textarea = document.createElement('textarea');
            textarea.innerHTML = descriptionData;
            return textarea.value.replaceAll('[br]', '<br>');
        },
        "evadePoints": (pointsData: string) => {
            return `Unik ${attrBox(attrPositive(attrNumber(pointsData)))}`;
        },
        // "lightDamage": ([minimumDamage, maximumDamage]: string[]) => {
        //     return `Obrażenia od błyskawic ${attrBox(minimumDamage)} - ${attrBox(maximumDamage)}`;
        // },
        "lightDamage": (maximumDamage: string) => {
            return `Obrażenia od błyskawic 1 - ${attrBox(maximumDamage)}`;
        },
        "frostDamage": ([slowData, damageData]: string[]) => {
            return `Obrażenia od zimna ${attrBox(attrPositive(attrNumber(damageData)))}<br>Zmniejsza o ${attrBox(attrNumber(slowData) / 100)} szybkość ataku celu`;
        },
        "fireDamage": (damageData: string) => {
            return `Obrażenia od ognia ${attrBox(attrPositive(attrNumber(damageData)))}`;
        },
        "legendaryBon": ([bonusName, bonusChance]: string[]) => {
            switch(bonusName) {
                case "angelTouchHealingChance": {
                    return `Dotyk anioła: podczas ataku ${attrBox(attrPercent(attrNumber(bonusChance)))} szansy na leczenie ran w ciągu trzech najbliższych tur`;
                }
                case "superCriticalHitChance": {
                    return `Cios bardzo krytyczny: ${attrBox(attrPercent(attrNumber(bonusChance)))} szans na podwojenie mocy krytyka podczas ataku`;
                }
                case "superHealOnLowHealth": {
                    return `Ostatni ratunek: kiedy po otrzymanym ataku zostanie graczowi mniej niż ${attrBox(attrPercent(attrNumber(bonusChance)))} życia, zostaje jednorazowo znacznie uleczony.`;
                }
                case "superCriticalReduction": {
                    return `Krytyczna osłona: przyjmowane ciosy krytyczne są o ${attrBox(attrPercent(attrNumber(bonusChance)))} słabsze.`;
                }
                case "superMagicalReduction": {
                    return `Ochrona żywiołów: ${attrBox(attrPercent(attrNumber(bonusChance)))} szans na podniesienie wszystkich odporności do maksimum ${attrBox(`(${attrPercent(attrNumber(90))})`)} przy przyjmowaniu ciosu magicznego.`;
                }
                case "superPhysicalReduction": {
                    return `Fizyczna osłona: przyjmowane obrażenia fizyczne zmniejszone o ${attrBox(attrPercent(attrNumber(bonusChance)))}.`;
                }
                case "glareChanceAfterGetHit": {
                    return `Oślepienie: podczas przyjmowania ataku ${attrBox(attrPercent(attrNumber(bonusChance)))} szansy na oślepienie przeciwnika i zablokowanie jego najbliższej akcji.`;
                }
                case "curseChanceAfterDoHit": {
                    return `Klątwa: podczas udanego ataku ${attrBox(attrPercent(attrNumber(bonusChance)))} szans na aktywację klątwy, która zablokuje najbliższą wykonywaną przez przeciwnika akcję.`;
                }
                case "pushBack": {
                    return `Odrzut: ${attrBox(attrPercent(attrNumber(bonusChance)))} szans na cofnięcie przeciwnika o krok do tyłu. Dotyczy wyłącznie profesji dystansowych.`;
                }
            }
        },
        // "lootedWith": ([looterName, __looterSex__, groupInfo, lootTs, npcName]: (string[]|string)[]) => {
        "lootedWith": (data: {looterName: string, looterGender: string, groupInfo: string[], timestamp: number, npcName: string}) => {
            // const [looterName, __looterSex__, groupInfo, lootTs, npcName] = lootData.split(",");
            const { looterName, groupInfo, timestamp, npcName} = data;
            console.log('lega test', ([looterName, groupInfo, timestamp, npcName]));

            const lootDate = new Date(+timestamp * 1000);
            const lootHumanDate = `${lootDate.getDate()}/${lootDate.getMonth() + 1}/${lootDate.getFullYear()}`;
            return `W dniu ${lootHumanDate} został(a) pokonany(a) ${npcName} przez ${looterName} ${(typeof groupInfo == 'string' ? attrNumber(groupInfo) > 1 : groupInfo.length > 0) ? ( groupInfo.length == 1 ? "wraz z kompanem" : "wraz z drużyną") : ""}`;
        },
        "teleportTo": ([__mapId__, posX, posY, mapName]: string[]) => {
            return `Teleportuje gracza na mape:<br>${mapName} (${posX},${posY})`
        },
        "cooldownTime": ([resetSeconds, resetTimestamp]: string[]) => {
            const timeSeed = new Date().getTime();
            const timelimitId = `tl-${timeSeed}`;
            const timelimitNodes = [
                `<span role="renewTime">Można używać co ${attrBox(attrNumber(resetSeconds))} minut</span>`,
                `<span role="usageStatus">Gotowy do użycia</span>`
            ];

            const getRemainingTime = () => resetTimestamp ? Math.floor(attrNumber(resetTimestamp) - new Date().getTime() / 1000) : 0;
            function secondsToTime(count: number) {
                const hours = Math.floor(count / 3600).toString().padStart(2,'0');
                const minutes = Math.floor(count % 3600 / 60).toString().padStart(2,'0');
                const seconds = Math.floor(count % 60).toString().padStart(2,'0');
                return `${hours}:${minutes}:${seconds}`;
            };

            (function countdownLogic(tryCount: number = 0) {
                const rootElement = document.querySelector(`span[role='${timelimitId}']`);
                if(!rootElement) {
                    return requestAnimationFrame(() => countdownLogic(tryCount + 1));
                };
                if(tryCount >= 30) {
                    return false;
                };
                const remainingTime = getRemainingTime();
                const usageStatus = rootElement.querySelector("[role='usageStatus']");
                if(remainingTime <= 0) {
                    // @ts-ignore
                    usageStatus.textContent = "Gotowy do użycia!";
                    return true;
                } else {
                    // @ts-ignore
                    usageStatus.innerHTML = `Nie można używać przez ${secondsToTime(remainingTime)}`;
                    return requestAnimationFrame(() => countdownLogic(0));
                };
            })();

            return `<span role="${timelimitId}">${timelimitNodes.join('<br>')}</span>`;
        },
        "expiresAt": (timestampData: string) => {
            return `Skraca czas nieprzytomności o ${attrBox(attrSigner(timestampData))} min`;
        },
        "intellect": (pointsData: string) => {
            return `Intelekt ${attrBox(attrSigner(pointsData))}`;
        },
        "strength": (pointsData: string) => {
            return `Siła ${attrBox(attrPositive(attrNumber(pointsData)))}`;
        },
        "quantity": (quantityData: string) => {
            return `Ilość: ${attrBox(attrNumber(quantityData))}`;
        },
        "agility": (pointsData: string) => {
            return `Zręczność ${attrBox(attrSigner(pointsData))}`;
        },
        "defense": (pointsData: string) => {
            return `Pancerz: ${attrBox(attrNumber(pointsData))}`;
        },
        "health": (pointsData: string) => {
            return `Życie ${attrBox(attrPositive(attrNumber(pointsData)))}`;
        },
        "energy": (pointsData: string) => {
            return `Energia ${attrBox(attrPositive(attrNumber(pointsData)))}`;
        },
        "blockPoints": (pointsData: string) => {
            return `Blok ${attrBox(attrPositive(attrNumber(pointsData)))}`;
        },
        "mana": (pointsData: string) => {
            return `Mana ${attrBox(attrPositive(attrNumber(pointsData)))}`;
        },
        "physicalDamageAbsorption": (value: number) => {
            return `Absorbuje do ${attrBox(value)} obrażeń fizycznych`
        },
        "magicalDamageAbsorption": (value: number) => {
            return `Absorbuje do ${attrBox(value)} obrażeń magicznych`
        },
        "incrementGold": (value: number) => {
            return `Złoto: +${attrBox(value)}`
        },

        /* Tags */
        "isNonStoreableInClanDeposit": () => {
            return "Przedmiotu nie można przechowywać w depozycie klanowym";
        },
        "isBindPermamentlyAfterBuy": () => {
            return "Wiąże na stałe po kupieniu";
        },
        "isNonStoreableInDeposit": () => {
            return "Przedmiotu nie można przechowywać w depozycie";
        },
        "isPermamentlyBounded": () => {
            return "Związany z właścicielem na stałe";
        },
        "isBindsAfterEquip": () => {
            return "Wiąże po założeniu";
        },
        "isNotAuctionable": () => {
            return "Tego przedmiotu nie można wystawiać na aukcję";
        },
        "isBoundToOwner": () => {
            return "Związany z włascicielem";
        },
        "isRecovered": () => {
            return "Przedmiot odzyskany, obniżona wartość";
        },
        "isUnidentified": () => {
            return "Przedmiot niezidentyfikowany";
        },
        "useOutfit": ({time, src}: {time: number, src: string}) => {
            return `Zmienia Twój wygląd postaci na ${time > 0 ? `${time} minut` : `stałe`}`;
        },
    };

    export const rarities = {
        "legendary": "legendarny",
        "artefact": "artefakt",
        "heroic": "heroiczny",
        "unique": "unikatowy",
        "common": "pospolity",
        "upgraded": "ulepszony",
    };
};
